event: message
data: {"result":{"content":[{"type":"text","text":"{\"data\":{\"results\":[{\"index\":1,\"use_case\":\"update supabase auth config site_url\",\"execution_guidance\":\"IMPORTANT: Follow the recommended plan below. Extract steps before execution, adapt to your current context, execute sequentially with current_step parameter, and check known pitfalls to avoid errors.\",\"recommended_plan_steps\":[\"Required Prerequisite: If the project reference is unknown, call SUPABASE_LIST_ALL_PROJECTS to identify the project whose authentication and access settings will be inspected or changed.\",\"Required Step 1: Retrieve and snapshot the current authentication configuration using SUPABASE_GETS_PROJECT_S_AUTH_CONFIG (providers, email/SMS, MFA, JWT, security policies) for review and potential rollback.\",\"Optional Step: Audit existing external identity providers with SUPABASE_ALPHA_LISTS_ALL_THIRD_PARTY_AUTH_INTEGRATIONS and SUPABASE_LISTS_ALL_SSO_PROVIDERS to understand current OAuth/JWKS and SSO/SAML setup.\",\"Optional Next Step: Add new providers using SUPABASE_CREATES_A_NEW_THIRD_PARTY_AUTH_INTEGRATION for OAuth/JWKS or SUPABASE_CREATES_A_NEW_SSO_PROVIDER for SAML, after explicit user approval.\",\"Optional Next Step: Manage existing SSO integrations by inspecting with SUPABASE_GETS_A_SSO_PROVIDER_BY_ITS_UUID, updating via SUPABASE_UPDATES_A_SSO_PROVIDER_BY_ITS_UUID, or cleaning up obsolete entries using SUPABASE_ALPHA_REMOVES_A_THIRD_PARTY_AUTH_INTEGRATION.\",\"Optional Next Step: After any dashboard or Management API changes, re-call SUPABASE_GETS_PROJECT_S_AUTH_CONFIG to confirm provider state and ensure Google/other providers are enabled and configured as expected.\",\"Optional Next Step: For deeper access control (e.g., RLS and grants), apply carefully reviewed SQL with SUPABASE_BETA_RUN_SQL_QUERY and then verify behavior from client flows.\"],\"known_pitfalls\":[\"Read-only config: SUPABASE_GETS_PROJECT_S_AUTH_CONFIG is snapshot-only; actual auth changes must be done via Management API or dashboard and then verified with this tool.\",\"User lockout: Misconfiguring or removing providers via SUPABASE_CREATES_A_NEW_THIRD_PARTY_AUTH_INTEGRATION, SUPABASE_CREATES_A_NEW_SSO_PROVIDER, or SUPABASE_ALPHA_REMOVES_A_THIRD_PARTY_AUTH_INTEGRATION can remove all valid login pathsâ€”ensure a backup sign-in method first.\",\"Attribute mapping: Incorrect SSO domains or SAML attribute mappings can yield successful IdP login but failed user provisioning; validate against actual IdP claims before rollout.\",\"SQL security: RLS or grant changes executed via SUPABASE_BETA_RUN_SQL_QUERY can silently overexpose or overrestrict data; make incremental changes and test with limited accounts.\",\"Rollback: Many auth and security settings lack a built-in undo; always capture current configuration and provider details before modifying them for manual rollback if needed.\"],\"difficulty\":\"medium\",\"primary_tool_slugs\":[\"SUPABASE_LIST_ALL_PROJECTS\",\"SUPABASE_GETS_PROJECT_S_AUTH_CONFIG\",\"SUPABASE_ALPHA_LISTS_ALL_THIRD_PARTY_AUTH_INTEGRATIONS\",\"SUPABASE_CREATES_A_NEW_SSO_PROVIDER\"],\"related_tool_slugs\":[\"SUPABASE_CREATES_A_NEW_THIRD_PARTY_AUTH_INTEGRATION\",\"SUPABASE_ALPHA_REMOVES_A_THIRD_PARTY_AUTH_INTEGRATION\",\"SUPABASE_LISTS_ALL_SSO_PROVIDERS\",\"SUPABASE_GETS_A_SSO_PROVIDER_BY_ITS_UUID\",\"SUPABASE_UPDATES_A_SSO_PROVIDER_BY_ITS_UUID\",\"SUPABASE_BETA_RUN_SQL_QUERY\"],\"toolkits\":[\"supabase\"],\"plan_id\":\"08102a0f4f20485c9ca976c954eeed4b\"}],\"toolkit_connection_statuses\":[{\"toolkit\":\"supabase\",\"has_active_connection\":true,\"description\":\"Supabase is an open-source backend-as-a-service providing a Postgres database, authentication, storage, and real-time subscription APIs for building modern applications\",\"connection_details\":{\"connected_account_id\":\"ca_fpBTQf5s3sFm\",\"status\":\"ACTIVE\",\"created_at\":\"2025-12-08T23:46:07.586Z\"},\"current_user_info\":[{\"id\":\"qhgbsjwsmjkkazhgdicr\",\"ref\":\"qhgbsjwsmjkkazhgdicr\",\"organization_id\":\"orcixxircraawtazceiu\",\"organization_slug\":\"orcixxircraawtazceiu\",\"name\":\"split_app\",\"region\":\"us-west-2\",\"status\":\"ACTIVE_HEALTHY\",\"database\":{\"host\":\"db.qhgbsjwsmjkkazhgdicr.supabase.co\",\"version\":\"17.6.1.054\",\"postgres_engine\":\"17\",\"release_channel\":\"ga\"},\"created_at\":\"2025-12-08T21:31:02.81462Z\"}],\"status_message\":\"Connection is active and ready to use\"}],\"tool_schemas\":{\"SUPABASE_LIST_ALL_PROJECTS\":{\"toolkit\":\"SUPABASE\",\"tool_slug\":\"SUPABASE_LIST_ALL_PROJECTS\",\"description\":\"Retrieves a list of all Supabase projects, including their ID, name, region, and status, for the authenticated user.\",\"input_schema\":{\"properties\":{},\"type\":\"object\"},\"hasFullSchema\":true},\"SUPABASE_GETS_PROJECT_S_AUTH_CONFIG\":{\"toolkit\":\"SUPABASE\",\"tool_slug\":\"SUPABASE_GETS_PROJECT_S_AUTH_CONFIG\",\"description\":\"Retrieves the project's complete read-only authentication configuration, detailing all settings (e.g., providers, MFA, email/SMS, JWT, security policies) but excluding sensitive secrets.\",\"input_schema\":{\"properties\":{\"ref\":{\"description\":\"The unique reference ID of the Supabase project.\",\"examples\":[\"your-project-ref\"],\"type\":\"string\"}},\"required\":[\"ref\"],\"type\":\"object\"},\"hasFullSchema\":true},\"SUPABASE_ALPHA_LISTS_ALL_THIRD_PARTY_AUTH_INTEGRATIONS\":{\"toolkit\":\"SUPABASE\",\"tool_slug\":\"SUPABASE_ALPHA_LISTS_ALL_THIRD_PARTY_AUTH_INTEGRATIONS\",\"description\":\"Lists all configured third-party authentication provider integrations for an existing Supabase project (using its `ref`), suitable for read-only auditing or verifying current authentication settings.\",\"input_schema\":{\"properties\":{\"ref\":{\"description\":\"The unique identifier of the Supabase project.\",\"examples\":[\"your-project-ref\"],\"type\":\"string\"}},\"required\":[\"ref\"],\"type\":\"object\"},\"hasFullSchema\":true},\"SUPABASE_CREATES_A_NEW_SSO_PROVIDER\":{\"toolkit\":\"SUPABASE\",\"tool_slug\":\"SUPABASE_CREATES_A_NEW_SSO_PROVIDER\",\"description\":\"Creates a new SAML 2.0 Single Sign-On (SSO) provider for a Supabase project, requiring either `metadata_xml` or `metadata_url` for SAML IdP configuration.\",\"input_schema\":{\"properties\":{\"attribute__mapping__keys\":{\"additionalProperties\":{\"additionalProperties\":true,\"type\":\"object\"},\"default\":null,\"description\":\"Maps SAML assertion attributes to custom Supabase JWT claims. Keys are JWT claim names; values specify SAML attribute extraction rules (e.g., `name`, `names`, `default`, `array`).\",\"examples\":[\"'''{\\\"email\\\": {\\\"names\\\": [\\\"http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress\\\", \\\"mail\\\"]}, \\\"full_name\\\": {\\\"name\\\": \\\"displayName\\\"}, \\\"roles\\\": {\\\"name\\\": \\\"groups\\\", \\\"array\\\": true, \\\"default\\\": [\\\"user\\\"]}}'''\"],\"nullable\":true,\"type\":\"object\"},\"domains\":{\"default\":null,\"description\":\"Email domains to associate with this SSO provider; users from these domains will be directed here for authentication.\",\"examples\":[[\"example.com\",\"another-example.org\"]],\"items\":{\"properties\":{},\"type\":\"string\"},\"nullable\":true,\"type\":\"array\"},\"metadata_url\":{\"default\":null,\"description\":\"URL to fetch SAML 2.0 metadata XML. Provide this or `metadata_xml`.\",\"examples\":[\"https://my-idp.com/saml/metadata\"],\"nullable\":true,\"type\":\"string\"},\"metadata_xml\":{\"default\":null,\"description\":\"SAML 2.0 metadata XML document as a string. Provide this or `metadata_url`.\",\"examples\":[\"'''<EntityDescriptor entityID=\\\"...\\\">...</EntityDescriptor>'''\"],\"nullable\":true,\"type\":\"string\"},\"ref\":{\"description\":\"Unique reference ID of the Supabase project.\",\"examples\":[\"your-project-ref\"],\"type\":\"string\"},\"type\":{\"description\":\"Type of the SSO provider; 'saml' (SAML 2.0) is the only supported value.\",\"enum\":[\"saml\"],\"type\":\"string\"}},\"required\":[\"ref\",\"type\"],\"type\":\"object\"},\"hasFullSchema\":true},\"SUPABASE_CREATES_A_NEW_THIRD_PARTY_AUTH_INTEGRATION\":{\"toolkit\":\"SUPABASE\",\"tool_slug\":\"SUPABASE_CREATES_A_NEW_THIRD_PARTY_AUTH_INTEGRATION\",\"description\":\"Call this to add a new third-party authentication method (OIDC or JWKS) to a Supabase project for integrating external identity providers (e.g., for SSO); the API may also support `custom_jwks` if sent directly.\",\"input_schema\":{\"properties\":{\"jwks_url\":{\"description\":\"URL of the JSON Web Key Set (JWKS) for public key verification. Required if `oidc_issuer_url` is not provided.\",\"examples\":[\"https://your-oidc-provider.com/.well-known/jwks.json\"],\"type\":\"string\"},\"oidc_issuer_url\":{\"description\":\"URL of the OpenID Connect (OIDC) issuer. Required if `jwks_url` is not provided.\",\"examples\":[\"https://your-oidc-provider.com/.well-known/openid-configuration\"],\"type\":\"string\"},\"ref\":{\"description\":\"The unique identifier of the Supabase project.\",\"type\":\"string\"}},\"required\":[\"ref\"],\"type\":\"object\"},\"hasFullSchema\":true},\"SUPABASE_ALPHA_REMOVES_A_THIRD_PARTY_AUTH_INTEGRATION\":{\"toolkit\":\"SUPABASE\",\"tool_slug\":\"SUPABASE_ALPHA_REMOVES_A_THIRD_PARTY_AUTH_INTEGRATION\",\"description\":\"Removes a third-party authentication provider (e.g., Google, GitHub) from a Supabase project's configuration; this immediately prevents users from logging in via that method.\",\"input_schema\":{\"properties\":{\"ref\":{\"description\":\"The unique reference ID of the Supabase project.\",\"examples\":[\"your-project-ref\"],\"type\":\"string\"},\"tpa_id\":{\"description\":\"The unique identifier (ID) of the third-party authentication provider configuration to be removed.\",\"examples\":[\"30879943-2772-4a11-ae54-92cb7f0d71e8\"],\"type\":\"string\"}},\"required\":[\"ref\",\"tpa_id\"],\"type\":\"object\"},\"hasFullSchema\":true},\"SUPABASE_LISTS_ALL_SSO_PROVIDERS\":{\"toolkit\":\"SUPABASE\",\"tool_slug\":\"SUPABASE_LISTS_ALL_SSO_PROVIDERS\",\"description\":\"Lists all configured Single Sign-On (SSO) providers for a Supabase project, requiring the project reference ID (`ref`) of an existing project.\",\"hasFullSchema\":false,\"schemaRef\":{\"tool\":\"COMPOSIO_GET_TOOL_SCHEMAS\",\"args\":{\"tool_slugs\":[\"SUPABASE_LISTS_ALL_SSO_PROVIDERS\"]},\"message\":\"Call COMPOSIO_GET_TOOL_SCHEMAS with tool_slugs=[\\\"SUPABASE_LISTS_ALL_SSO_PROVIDERS\\\"] to load the full schema before executing this tool.\"}},\"SUPABASE_GETS_A_SSO_PROVIDER_BY_ITS_UUID\":{\"toolkit\":\"SUPABASE\",\"tool_slug\":\"SUPABASE_GETS_A_SSO_PROVIDER_BY_ITS_UUID\",\"description\":\"Retrieves the configuration details for a specific Single Sign-On (SSO) provider (e.g., SAML, Google, GitHub, Azure AD), identified by its UUID, within a Supabase project.\",\"hasFullSchema\":false,\"schemaRef\":{\"tool\":\"COMPOSIO_GET_TOOL_SCHEMAS\",\"args\":{\"tool_slugs\":[\"SUPABASE_GETS_A_SSO_PROVIDER_BY_ITS_UUID\"]},\"message\":\"Call COMPOSIO_GET_TOOL_SCHEMAS with tool_slugs=[\\\"SUPABASE_GETS_A_SSO_PROVIDER_BY_ITS_UUID\\\"] to load the full schema before executing this tool.\"}},\"SUPABASE_UPDATES_A_SSO_PROVIDER_BY_ITS_UUID\":{\"toolkit\":\"SUPABASE\",\"tool_slug\":\"SUPABASE_UPDATES_A_SSO_PROVIDER_BY_ITS_UUID\",\"description\":\"Updates an existing SSO provider's SAML metadata, associated email domains, or attribute mappings for a Supabase project, identified by `ref` and `provider_id`.\",\"hasFullSchema\":false,\"schemaRef\":{\"tool\":\"COMPOSIO_GET_TOOL_SCHEMAS\",\"args\":{\"tool_slugs\":[\"SUPABASE_UPDATES_A_SSO_PROVIDER_BY_ITS_UUID\"]},\"message\":\"Call COMPOSIO_GET_TOOL_SCHEMAS with tool_slugs=[\\\"SUPABASE_UPDATES_A_SSO_PROVIDER_BY_ITS_UUID\\\"] to load the full schema before executing this tool.\"}},\"SUPABASE_BETA_RUN_SQL_QUERY\":{\"toolkit\":\"SUPABASE\",\"tool_slug\":\"SUPABASE_BETA_RUN_SQL_QUERY\",\"description\":\"Executes a given SQL query against the project's database; use for advanced data operations or when standard API endpoints are insufficient, ensuring queries are valid PostgreSQL and sanitized. Use th...\",\"hasFullSchema\":false,\"schemaRef\":{\"tool\":\"COMPOSIO_GET_TOOL_SCHEMAS\",\"args\":{\"tool_slugs\":[\"SUPABASE_BETA_RUN_SQL_QUERY\"]},\"message\":\"Call COMPOSIO_GET_TOOL_SCHEMAS with tool_slugs=[\\\"SUPABASE_BETA_RUN_SQL_QUERY\\\"] to load the full schema before executing this tool.\"}}},\"time_info\":{\"current_time_utc\":\"2025-12-10T10:14:55.723Z\",\"current_time_utc_epoch_seconds\":1765361695,\"message\":\"\\n          - This is time in UTC timezone. Get timezone from user if you needed.\\n          - Always use this time info to construct parameters for tool calls appropriately even when the tool call requires relative times like 'last week', 'last 24 hours', 'today', 'tomorrow' etc.\\n          - Do not hallucinate the time or timezone by yourself.\\n        \"},\"session\":{\"id\":\"huge\",\"generate_id\":false,\"instructions\":\"REQUIRED: Pass session_id \\\"huge\\\" in ALL subsequent meta tool calls for this workflow.\"},\"next_steps_guidance\":[\"1) Connections active, proceed to next step\",\"2) Extract validated plan steps returned above, acknowledge each step, then execute sequentially updating current_step parameter. Check pitfalls during execution.\"],\"success\":true,\"error\":null},\"successful\":true,\"error\":null,\"version\":\"latest\",\"logs\":[],\"log_id\":\"log_K_wXRqvGZaXv\"}"}],"isError":false},"jsonrpc":"2.0","id":23}

