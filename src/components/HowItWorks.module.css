/* ========= Brand tokens (from your guide) ========= */
:root {
  --color-dark: #141413;      /* Primary text on light; dark backgrounds */
  --color-light: #faf9f5;     /* Light backgrounds / text on dark */
  --color-mid: #b0aea5;       /* Secondary text */
  --color-lightgray: #e8e6dc; /* Subtle backgrounds */
  --accent-1: #d97757;        /* Orange — primary accent */
  --accent-2: #6a9bcc;        /* Blue — secondary accent */
  --accent-3: #788c5d;        /* Green — tertiary accent */
  --font-headings: "Poppins", Arial, system-ui, -apple-system, "Segoe UI", sans-serif;
  --font-body: "Lora", Georgia, "Times New Roman", serif;
  --radius: 16px;
  --shadow: 0 10px 30px rgba(0,0,0,.25);
}

/* Theme wrappers for smart contrast */
.theme--dark {
  --bg-page: var(--color-dark);
  --text-main: var(--color-light);
  --text-muted: color-mix(in oklab, var(--color-light) 70%, var(--color-mid));
  --card-bg: color-mix(in oklab, var(--color-dark) 85%, black);
  --card-border: rgba(250,249,245,.10);
  --card-grad-top: rgba(250,249,245,.06);
  --card-grad-bot: rgba(250,249,245,.03);
}
.theme--light {
  --bg-page: var(--color-light);
  --text-main: var(--color-dark);
  --text-muted: color-mix(in oklab, var(--color-dark) 60%, var(--color-mid));
  --card-bg: #ffffff;
  --card-border: rgba(20,20,19,.12);
  --card-grad-top: rgba(20,20,19,.03);
  --card-grad-bot: rgba(20,20,19,.01);
}

/* Container */
.process {
  position: relative;
  padding: clamp(2rem, 4vw, 4rem);
  color: var(--text-main);
  background: var(--bg-page);
  border-radius: var(--radius);
  overflow: hidden;
  font-family: var(--font-body);
}

/* Headings use Poppins (24pt/32px+) */
.process h1, .process h2, .process h3, .process h4 {
  font-family: var(--font-headings);
  letter-spacing: .2px;
}
.process h2 { font-size: clamp(1.75rem, 2.5vw, 2.25rem); margin: 0 0 .5rem; }
.process h3 { font-size: 1.1rem; margin: .15rem 0 .35rem; }

.process__header { position: relative; margin-bottom: 1.5rem; }
.process__kicker { color: var(--text-muted); margin: 0; }

/* Rivian‑style ambient background (sun orb + drifting haze + distant ridges) */
.process__bg {
  position: absolute; inset: 0; pointer-events: none; opacity: .95;
  background:
    radial-gradient(140px 140px at 72% 18%, var(--accent-1) 0%, transparent 60%),
    radial-gradient(90px 90px at 78% 24%, rgba(255,255,255,.18) 0%, transparent 60%),
    linear-gradient(to bottom, rgba(255,255,255,.06), transparent 30%),
    conic-gradient(from 200deg at 28% 110%, rgba(255,255,255,.04), transparent 55%, rgba(255,255,255,.04));
  filter: saturate(1.02);
}
.process__bg::before,
.process__bg::after {
  content: ""; position: absolute; inset: 0; pointer-events: none;
}
.process__bg::before {
  background:
    radial-gradient(50% 40% at 10% 20%, rgba(255,255,255,.06) 0%, transparent 70%),
    radial-gradient(40% 30% at 80% 30%, rgba(255,255,255,.05) 0%, transparent 70%);
  animation: drift 26s linear infinite;
}
.process__bg::after {
  background:
    radial-gradient(70% 60% at -10% 120%, rgba(255,255,255,.03) 0%, transparent 60%),
    radial-gradient(60% 60% at 120% 130%, rgba(255,255,255,.03) 0%, transparent 70%);
  transform: translateY(6%);
  animation: parallax 18s ease-in-out infinite;
}
@keyframes drift { from {transform: translateX(-3%);} to {transform: translateX(3%);} }
@keyframes parallax { 0%,100% {transform: translateY(6%);} 50% {transform: translateY(2%);} }

/* Steps grid */
.process__steps {
  position: relative;
  counter-reset: step;
  display: grid;
  gap: 1rem;
  margin: 1.5rem 0 1rem;
}

.step {
  position: relative;
  background: linear-gradient(180deg, var(--card-grad-top), var(--card-grad-bot)), var(--card-bg);
  border: 1px solid var(--card-border);
  border-radius: calc(var(--radius) - 4px);
  padding: 1.1rem 1.1rem 1rem 3.75rem;
  box-shadow: var(--shadow);
  transform: translateY(8px);
  opacity: 0;
  will-change: transform, opacity;
}
.icon {
  position: absolute;
  top: 1.1rem;
  left: 1rem;
  width: 2rem;
  height: 2rem;
  opacity: 1;
}
.step.reveal { transform: translateY(0); opacity: 1; transition: transform .6s ease, opacity .6s ease; }
.step p { margin: 0 0 .25rem; line-height: 1.5; }
.step .meta { color: var(--text-muted); font-size: .94rem; }

.process__disclaimer {
  margin-top: .75rem;
  font-size: .95rem;
  color: var(--text-muted);
  background: color-mix(in oklab, var(--card-bg) 85%, white 10%);
  border: 1px dashed var(--card-border);
  border-radius: calc(var(--radius) - 8px);
  padding: .85rem 1rem;
}

/* Respect reduced motion */
@media (prefers-reduced-motion: reduce) {
  .step { transform: none !important; opacity: 1 !important; }
  .process__bg, .process__bg::before, .process__bg::after { animation: none !important; }
}
